<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ruuvi.firmware.c: Sending and receiving data.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ruuvi.firmware.c
   </div>
   <div id="projectbrief">Ruuvi Firmware for nRF52 sensors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__communication__tasks.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Sending and receiving data.</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__advertisement__tasks"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__advertisement__tasks.html">Advertisement tasks</a></td></tr>
<tr class="memdesc:group__advertisement__tasks"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bluetooth Low Energy advertising. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:task__gatt_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__gatt_8h.html">task_gatt.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__communication__api__t.html">task_communication_api_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to control sensors.  <a href="structtask__communication__api__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga355f7fecb54a732d05289a82f5e5bd37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga355f7fecb54a732d05289a82f5e5bd37">TASK_COMMUNICATION_SENSOR_OFFSET_U16_INVALID</a>&#160;&#160;&#160;0xFFFF</td></tr>
<tr class="memdesc:ga355f7fecb54a732d05289a82f5e5bd37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that sensor offsets were invalid / non-applicable.  <a href="#ga355f7fecb54a732d05289a82f5e5bd37">More...</a><br/></td></tr>
<tr class="separator:ga355f7fecb54a732d05289a82f5e5bd37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaeb7a1bee328ecf59b9f2a32c23a8bc64"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gaeb7a1bee328ecf59b9f2a32c23a8bc64">task_api_data_fp_t</a> )(uint8_t *const bytes)</td></tr>
<tr class="memdesc:gaeb7a1bee328ecf59b9f2a32c23a8bc64"><td class="mdescLeft">&#160;</td><td class="mdescRight">set up or read offsets, data from the task.  <a href="#gaeb7a1bee328ecf59b9f2a32c23a8bc64">More...</a><br/></td></tr>
<tr class="separator:gaeb7a1bee328ecf59b9f2a32c23a8bc64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9be88cb0092dec1bd2685bf90719cf7"><td class="memItemLeft" align="right" valign="top">typedef ruuvi_driver_status_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gac9be88cb0092dec1bd2685bf90719cf7">task_api_data_target_t</a> )(const ruuvi_driver_sensor_data_t *const data, const uint8_t source)</td></tr>
<tr class="memdesc:gac9be88cb0092dec1bd2685bf90719cf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function pointer to send data to once available, for example send to RAM buffer.  <a href="#gac9be88cb0092dec1bd2685bf90719cf7">More...</a><br/></td></tr>
<tr class="separator:gac9be88cb0092dec1bd2685bf90719cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cf326fd41678e7120f57604ae50719a"><td class="memItemLeft" align="right" valign="top">typedef ruuvi_driver_status_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga1cf326fd41678e7120f57604ae50719a">task_api_log_cfg_t</a> )(const <a class="el" href="group__communication__tasks.html#gac9be88cb0092dec1bd2685bf90719cf7">task_api_data_target_t</a> target, const uint8_t interval)</td></tr>
<tr class="memdesc:ga1cf326fd41678e7120f57604ae50719a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to configure logging.  <a href="#ga1cf326fd41678e7120f57604ae50719a">More...</a><br/></td></tr>
<tr class="separator:ga1cf326fd41678e7120f57604ae50719a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a4e83ba070fd30d2e17be6633beaa2b"><td class="memItemLeft" align="right" valign="top">typedef ruuvi_driver_status_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga7a4e83ba070fd30d2e17be6633beaa2b">task_api_log_read_t</a> )(const ruuvi_interface_communication_xfer_fp_t reply_fp, const ruuvi_interface_communication_message_t *const query)</td></tr>
<tr class="memdesc:ga7a4e83ba070fd30d2e17be6633beaa2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to read logs.  <a href="#ga7a4e83ba070fd30d2e17be6633beaa2b">More...</a><br/></td></tr>
<tr class="separator:ga7a4e83ba070fd30d2e17be6633beaa2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d58f93f7148b979051ba207aac7bf30"><td class="memItemLeft" align="right" valign="top">typedef ruuvi_driver_status_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga6d58f93f7148b979051ba207aac7bf30">heartbeat_data_fp_t</a> )(uint8_t *const msg)</td></tr>
<tr class="memdesc:ga6d58f93f7148b979051ba207aac7bf30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get heartbeat data.  <a href="#ga6d58f93f7148b979051ba207aac7bf30">More...</a><br/></td></tr>
<tr class="separator:ga6d58f93f7148b979051ba207aac7bf30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga023dea9be08f5c7a2b494d916dc59fa8"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structtask__communication__api__t.html">task_communication_api_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga023dea9be08f5c7a2b494d916dc59fa8">task_communication_api_t</a></td></tr>
<tr class="memdesc:ga023dea9be08f5c7a2b494d916dc59fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to control sensors.  <a href="#ga023dea9be08f5c7a2b494d916dc59fa8">More...</a><br/></td></tr>
<tr class="separator:ga023dea9be08f5c7a2b494d916dc59fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba833a7b984cfa8bb6575bb86ff20c02"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a> )(void *p_data, size_t data_len)</td></tr>
<tr class="separator:gaba833a7b984cfa8bb6575bb86ff20c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5e9c27e16eb977bbc394c6977cfa123e"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga5e9c27e16eb977bbc394c6977cfa123e">task_communication_on_data</a> (const ruuvi_interface_communication_message_t *const incoming, ruuvi_interface_communication_xfer_fp_t reply_fp)</td></tr>
<tr class="memdesc:ga5e9c27e16eb977bbc394c6977cfa123e"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle incoming data and prepare a reply  <a href="#ga5e9c27e16eb977bbc394c6977cfa123e">More...</a><br/></td></tr>
<tr class="separator:ga5e9c27e16eb977bbc394c6977cfa123e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa71f8575329e1c262357c7ffb884c943"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gaa71f8575329e1c262357c7ffb884c943">task_communication_heartbeat_configure</a> (const uint32_t interval_ms, const size_t max_len, const <a class="el" href="group__communication__tasks.html#ga6d58f93f7148b979051ba207aac7bf30">heartbeat_data_fp_t</a> data_src, const ruuvi_interface_communication_xfer_fp_t send)</td></tr>
<tr class="memdesc:gaa71f8575329e1c262357c7ffb884c943"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start sending a "hearbeat" signal over given channel to a connected device.  <a href="#gaa71f8575329e1c262357c7ffb884c943">More...</a><br/></td></tr>
<tr class="separator:gaa71f8575329e1c262357c7ffb884c943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16f137e921d1695814fcfd739e587d96"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga16f137e921d1695814fcfd739e587d96">task_gatt_send_asynchronous</a> (ruuvi_interface_communication_message_t *const msg)</td></tr>
<tr class="memdesc:ga16f137e921d1695814fcfd739e587d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send given message via NUS.  <a href="#ga16f137e921d1695814fcfd739e587d96">More...</a><br/></td></tr>
<tr class="separator:ga16f137e921d1695814fcfd739e587d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6deb01f7eb6b7e0487e57531a1a61b2"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gab6deb01f7eb6b7e0487e57531a1a61b2">task_gatt_dfu_init</a> (void)</td></tr>
<tr class="memdesc:gab6deb01f7eb6b7e0487e57531a1a61b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Device Firmware Update service.  <a href="#gab6deb01f7eb6b7e0487e57531a1a61b2">More...</a><br/></td></tr>
<tr class="separator:gab6deb01f7eb6b7e0487e57531a1a61b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67bb12e5939ef55c03e50b64b1040cc3"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga67bb12e5939ef55c03e50b64b1040cc3">task_gatt_dis_init</a> (const ruuvi_interface_communication_ble4_gatt_dis_init_t *const dis)</td></tr>
<tr class="memdesc:ga67bb12e5939ef55c03e50b64b1040cc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Device Information Update service.  <a href="#ga67bb12e5939ef55c03e50b64b1040cc3">More...</a><br/></td></tr>
<tr class="separator:ga67bb12e5939ef55c03e50b64b1040cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7daa89797e044edf8797447b8c55e2bb"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga7daa89797e044edf8797447b8c55e2bb">task_gatt_nus_init</a> ()</td></tr>
<tr class="memdesc:ga7daa89797e044edf8797447b8c55e2bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Nordic UART Service.  <a href="#ga7daa89797e044edf8797447b8c55e2bb">More...</a><br/></td></tr>
<tr class="separator:ga7daa89797e044edf8797447b8c55e2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f0c2052d91b1aa404e664f9ff9cd555"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga7f0c2052d91b1aa404e664f9ff9cd555">task_gatt_init</a> (const char *const name)</td></tr>
<tr class="memdesc:ga7f0c2052d91b1aa404e664f9ff9cd555"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize GATT. Must be called as a first function in task_gatt.  <a href="#ga7f0c2052d91b1aa404e664f9ff9cd555">More...</a><br/></td></tr>
<tr class="separator:ga7f0c2052d91b1aa404e664f9ff9cd555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3e156c7a713188e3eef77977e2b83f2"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gac3e156c7a713188e3eef77977e2b83f2">task_gatt_enable</a> ()</td></tr>
<tr class="memdesc:gac3e156c7a713188e3eef77977e2b83f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start advertising GATT connection to devices.  <a href="#gac3e156c7a713188e3eef77977e2b83f2">More...</a><br/></td></tr>
<tr class="separator:gac3e156c7a713188e3eef77977e2b83f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7bbedad9a32042d52b753f7ff6bbce9"><td class="memItemLeft" align="right" valign="top">ruuvi_driver_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gac7bbedad9a32042d52b753f7ff6bbce9">task_gatt_disable</a> ()</td></tr>
<tr class="memdesc:gac7bbedad9a32042d52b753f7ff6bbce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop advertising GATT connection to devices.  <a href="#gac7bbedad9a32042d52b753f7ff6bbce9">More...</a><br/></td></tr>
<tr class="separator:gac7bbedad9a32042d52b753f7ff6bbce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34a6a3f798ea6479df79f0c8376fb242"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga34a6a3f798ea6479df79f0c8376fb242">task_gatt_is_init</a> ()</td></tr>
<tr class="memdesc:ga34a6a3f798ea6479df79f0c8376fb242"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if GATT task is initialized  <a href="#ga34a6a3f798ea6479df79f0c8376fb242">More...</a><br/></td></tr>
<tr class="separator:ga34a6a3f798ea6479df79f0c8376fb242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga958c2eb0de3d6e3cd501e5f77d22811e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#ga958c2eb0de3d6e3cd501e5f77d22811e">task_gatt_nus_is_connected</a> ()</td></tr>
<tr class="memdesc:ga958c2eb0de3d6e3cd501e5f77d22811e"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if NUS is connected, i.e. central has registered to TX notifications.  <a href="#ga958c2eb0de3d6e3cd501e5f77d22811e">More...</a><br/></td></tr>
<tr class="separator:ga958c2eb0de3d6e3cd501e5f77d22811e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4b7a69be4a59db27c9fa2aeeaf42921"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gac4b7a69be4a59db27c9fa2aeeaf42921">task_gatt_set_on_connected_isr</a> (const <a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a> cb)</td></tr>
<tr class="memdesc:gac4b7a69be4a59db27c9fa2aeeaf42921"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup connection event handler.  <a href="#gac4b7a69be4a59db27c9fa2aeeaf42921">More...</a><br/></td></tr>
<tr class="separator:gac4b7a69be4a59db27c9fa2aeeaf42921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa36c2a634d0938f5ad90d3a9391b24c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gaa36c2a634d0938f5ad90d3a9391b24c6">task_gatt_set_on_disconn_isr</a> (const <a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a> cb)</td></tr>
<tr class="memdesc:gaa36c2a634d0938f5ad90d3a9391b24c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup disconnection event handler.  <a href="#gaa36c2a634d0938f5ad90d3a9391b24c6">More...</a><br/></td></tr>
<tr class="separator:gaa36c2a634d0938f5ad90d3a9391b24c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa6713f2060d3b205e306b70f91deb72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gafa6713f2060d3b205e306b70f91deb72">task_gatt_set_on_received_isr</a> (const <a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a> cb)</td></tr>
<tr class="memdesc:gafa6713f2060d3b205e306b70f91deb72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup data received event handler.  <a href="#gafa6713f2060d3b205e306b70f91deb72">More...</a><br/></td></tr>
<tr class="separator:gafa6713f2060d3b205e306b70f91deb72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab85fa9399f87237b5c9a3c7a29eec084"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__communication__tasks.html#gab85fa9399f87237b5c9a3c7a29eec084">task_gatt_set_on_sent_isr</a> (const <a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a> cb)</td></tr>
<tr class="memdesc:gab85fa9399f87237b5c9a3c7a29eec084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup data sent event handler.  <a href="#gab85fa9399f87237b5c9a3c7a29eec084">More...</a><br/></td></tr>
<tr class="separator:gab85fa9399f87237b5c9a3c7a29eec084"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga355f7fecb54a732d05289a82f5e5bd37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_COMMUNICATION_SENSOR_OFFSET_U16_INVALID&#160;&#160;&#160;0xFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal that sensor offsets were invalid / non-applicable. </p>

<p>Definition at line <a class="el" href="task__communication_8h_source.html#l00024">24</a> of file <a class="el" href="task__communication_8h_source.html">task_communication.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga6d58f93f7148b979051ba207aac7bf30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ruuvi_driver_status_t(* heartbeat_data_fp_t)(uint8_t *const msg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to get heartbeat data. </p>

<p>Definition at line <a class="el" href="task__communication_8h_source.html#l00045">45</a> of file <a class="el" href="task__communication_8h_source.html">task_communication.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaeb7a1bee328ecf59b9f2a32c23a8bc64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* task_api_data_fp_t)(uint8_t *const bytes)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set up or read offsets, data from the task. </p>

<p>Definition at line <a class="el" href="task__communication_8h_source.html#l00027">27</a> of file <a class="el" href="task__communication_8h_source.html">task_communication.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac9be88cb0092dec1bd2685bf90719cf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ruuvi_driver_status_t(* task_api_data_target_t)(const ruuvi_driver_sensor_data_t *const data, const uint8_t source)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function pointer to send data to once available, for example send to RAM buffer. </p>

<p>Definition at line <a class="el" href="task__communication_8h_source.html#l00030">30</a> of file <a class="el" href="task__communication_8h_source.html">task_communication.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1cf326fd41678e7120f57604ae50719a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ruuvi_driver_status_t(* task_api_log_cfg_t)(const <a class="el" href="group__communication__tasks.html#gac9be88cb0092dec1bd2685bf90719cf7">task_api_data_target_t</a> target, const uint8_t interval)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to configure logging. </p>

<p>Definition at line <a class="el" href="task__communication_8h_source.html#l00034">34</a> of file <a class="el" href="task__communication_8h_source.html">task_communication.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7a4e83ba070fd30d2e17be6633beaa2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ruuvi_driver_status_t(* task_api_log_read_t)(const ruuvi_interface_communication_xfer_fp_t reply_fp, const ruuvi_interface_communication_message_t *const query)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to read logs. </p>

<p>Definition at line <a class="el" href="task__communication_8h_source.html#l00038">38</a> of file <a class="el" href="task__communication_8h_source.html">task_communication.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga023dea9be08f5c7a2b494d916dc59fa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtask__communication__api__t.html">task_communication_api_t</a>  <a class="el" href="structtask__communication__api__t.html">task_communication_api_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to control sensors. </p>

</div>
</div>
<a class="anchor" id="gaba833a7b984cfa8bb6575bb86ff20c02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* task_gatt_cb_t)(void *p_data, size_t data_len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="task__gatt_8h_source.html#l00032">32</a> of file <a class="el" href="task__gatt_8h_source.html">task_gatt.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa71f8575329e1c262357c7ffb884c943"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_communication_heartbeat_configure </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>interval_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>max_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__communication__tasks.html#ga6d58f93f7148b979051ba207aac7bf30">heartbeat_data_fp_t</a>&#160;</td>
          <td class="paramname"><em>data_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ruuvi_interface_communication_xfer_fp_t&#160;</td>
          <td class="paramname"><em>send</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start sending a "hearbeat" signal over given channel to a connected device. </p>
<p>Heartbeat is data format 5 encoded status. If the data format 5 payload doesn't fit into given max length, data is cropped to maximum transmittable size. New heartbeat can be configured over old one without stopping.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">interval_ms</td><td>interval to send the data, in milliseconds. Set to 0 to stop the heartbeat </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>Maximum length of data to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_src</td><td>function to generate the heartbeat message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">send</td><td>function pointer to send the data through. May be NULL if interval is 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>if heartbeat was initialized (or stopped) </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_STATE</td><td>if timer cannot be initialized. </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_NULL</td><td>if interval wasn't 0 and send is NULL </td></tr>
    <tr><td class="paramname">error</td><td>code from stack on other error. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="task__communication_8c_source.html#l00212">212</a> of file <a class="el" href="task__communication_8c_source.html">task_communication.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e9c27e16eb977bbc394c6977cfa123e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_communication_on_data </td>
          <td>(</td>
          <td class="paramtype">const ruuvi_interface_communication_message_t *const&#160;</td>
          <td class="paramname"><em>incoming</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ruuvi_interface_communication_xfer_fp_t&#160;</td>
          <td class="paramname"><em>reply_fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handle incoming data and prepare a reply </p>
<p>This function passes incoming data to relevant listener(s) and provides a function through which acknowledgment can be sent back.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">incoming</td><td>received data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reply_fp</td><td>function pointer to which acknowledgment should be sent, reply_fp(acknowledge) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="task__communication_8c_source.html#l00062">62</a> of file <a class="el" href="task__communication_8c_source.html">task_communication.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab6deb01f7eb6b7e0487e57531a1a61b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_gatt_dfu_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Device Firmware Update service. </p>
<p>GATT must be initialized before calling this function, and once initialized the DFU service cannot be uninitialized.</p>
<p>Call will return successfully even if the device doesn't have useable bootloader, however program will reboot if user tries to enter bootloader in that case.</p>
<p>To use the DFU service advertisement module must send connectable (and preferably scannable) advertisements.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>GATT was initialized successfully </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_STATE</td><td>DFU was already initialized or GATT is not initialized </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga67bb12e5939ef55c03e50b64b1040cc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_gatt_dis_init </td>
          <td>(</td>
          <td class="paramtype">const ruuvi_interface_communication_ble4_gatt_dis_init_t *const&#160;</td>
          <td class="paramname"><em>dis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Device Information Update service. </p>
<p>GATT must be initialized before calling this function, and once initialized the DIS service cannot be uninitialized.</p>
<p>DIS service lets user read basic information, such as firmware version and hardware model over GATT in a standard format.</p>
<p>To use the DIS service advertisement module must send connectable (and preferably scannable) advertisements.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dis</td><td>structure containing data to be copied into DIS, can be freed after call finishes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>GATT was initialized successfully </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_NULL</td><td>if given NULL as the information. </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_STATE</td><td>DIS was already initialized or GATT is not initialized </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac7bbedad9a32042d52b753f7ff6bbce9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_gatt_disable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop advertising GATT connection to devices. </p>
<p>Calling this function is not enough to stop advertising connection, you must also update advertised data to remove the scan response from data being advertised. This makes sure that advertised data stays valid. This function has not effect if called while already disabled</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_STATE</td><td>if GATT is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac3e156c7a713188e3eef77977e2b83f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_gatt_enable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start advertising GATT connection to devices. </p>
<p>Calling this function is not enough to let users to connect, you must also update advertised data to add the scan response to data being advertised. This makes sure that advertised data stays valid. This function has no effect if called while already enabled.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_STATE</td><td>if GATT is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7f0c2052d91b1aa404e664f9ff9cd555"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_gatt_init </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize GATT. Must be called as a first function in task_gatt. </p>
<p>After calling this function underlying software stack is ready to setup GATT services.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Full name of device to be advertised in scan responses. Maximum 11 chars + trailing NULL. Must not be NULL, 0-length string is valid.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_NULL</td><td>if name is NULL (use 0-length string instead) </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_LENGTH</td><td>if name is longer than <a class="el" href="group__advertisement__tasks.html#gafced29518d21647a9960e4905bf5260f">SCAN_RSP_NAME_MAX_LEN</a> </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_STATE</td><td>if GATT is already initialized or advertisements are not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga34a6a3f798ea6479df79f0c8376fb242"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool task_gatt_is_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if GATT task is initialized </p>
<dl class="section return"><dt>Returns</dt><dd>true if GATT is initialized, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7daa89797e044edf8797447b8c55e2bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_gatt_nus_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Nordic UART Service. </p>
<p>GATT must be initialized before calling this function, and once initialized the NUS service cannot be uninitialized.</p>
<p>NUS service lets user do bidirectional communication with the application.</p>
<p>To use the NUS service advertisement module must send connectable (and preferably scannable) advertisements.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>GATT was initialized successfully </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_NULL</td><td>if given NULL as the information. </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_STATE</td><td>DIS was already initialized or GATT is not initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>To actually use the data in application, user must setup at least data received callback with <a class="el" href="group__communication__tasks.html#gafa6713f2060d3b205e306b70f91deb72">task_gatt_set_on_received_isr</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga958c2eb0de3d6e3cd501e5f77d22811e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool task_gatt_nus_is_connected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if NUS is connected, i.e. central has registered to TX notifications. </p>
<dl class="section return"><dt>Returns</dt><dd>true if NUS is connected is initialized, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga16f137e921d1695814fcfd739e587d96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ruuvi_driver_status_t task_gatt_send_asynchronous </td>
          <td>(</td>
          <td class="paramtype">ruuvi_interface_communication_message_t *const&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send given message via NUS. </p>
<p>This function queues a message to be sent and returns immediately. There is no guarantee on when the data is actually sent, and there is no acknowledgement or callback after the data has been sent.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RUUVI_DRIVER_SUCCESS</td><td>if data was placed in send buffer </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_INVALID_STATE</td><td>if NUS is not connected </td></tr>
    <tr><td class="paramname">RUUVI_DRIVER_ERROR_NO_MEM</td><td>if tx buffer is full </td></tr>
    <tr><td class="paramname">error</td><td>code from stack on other error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac4b7a69be4a59db27c9fa2aeeaf42921"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_gatt_set_on_connected_isr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup connection event handler. </p>
<p>The event handler has signature of</p>
<div class="fragment"><div class="line">void(*<a class="code" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a>)(<span class="keywordtype">void</span>* p_event_data, uint16_t event_size) </div>
</div><!-- fragment --><p> where event data is NULL and event_size is 0. The event handler is called in interrupt context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Callback which gets called on connection in interrupt context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa36c2a634d0938f5ad90d3a9391b24c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_gatt_set_on_disconn_isr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup disconnection event handler. </p>
<p>The event handler has signature of</p>
<div class="fragment"><div class="line">void(*<a class="code" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a>)(<span class="keywordtype">void</span>* p_event_data, uint16_t event_size) </div>
</div><!-- fragment --><p> where event data is NULL and event_size is 0. The event handler is called in interrupt context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Callback which gets called on disconnection in interrupt context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gafa6713f2060d3b205e306b70f91deb72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_gatt_set_on_received_isr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup data received event handler. </p>
<p>The event handler has signature of</p>
<div class="fragment"><div class="line">void(*<a class="code" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a>)(<span class="keywordtype">void</span>* p_event_data, uint16_t event_size) </div>
</div><!-- fragment --><p> where event data is NULL and event_size is 0. The event handler is called in interrupt context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Callback which gets called on data received in interrupt context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab85fa9399f87237b5c9a3c7a29eec084"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_gatt_set_on_sent_isr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup data sent event handler. </p>
<p>The event handler has signature of</p>
<div class="fragment"><div class="line">void(*<a class="code" href="group__communication__tasks.html#gaba833a7b984cfa8bb6575bb86ff20c02">task_gatt_cb_t</a>)(<span class="keywordtype">void</span>* p_event_data, uint16_t event_size) </div>
</div><!-- fragment --><p> where event data is NULL and event_size is 0. The event handler is called in interrupt context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>Callback which gets called on data sent in interrupt context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
